local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "HuneUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

local Frame = Instance.new("Frame")
Frame.BackgroundColor3 = Color3.new(0.278, 0.278, 0.278)
Frame.BackgroundTransparency = 0.5
Frame.BorderSizePixel = 0
Frame.Position = UDim2.new(0.1, 0, 0.05, 0)
Frame.Size = UDim2.new(0, 799, 0, 95)
Frame.Parent = screenGui

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 25)
UICorner.Parent = Frame

local UIStroke = Instance.new("UIStroke")
UIStroke.Color = Color3.new(0.21, 1, 0.15)
UIStroke.Thickness = 5
UIStroke.Parent = Frame

local Title = Instance.new("TextLabel")
Title.Font = Enum.Font.SourceSansBold
Title.Text = "HuneIPA - BLOX FRUIT KAITUN SCRIPT"
Title.TextColor3 = Color3.new(0.05, 1, 0.05)
Title.TextSize = 30
Title.BackgroundTransparency = 1
Title.Position = UDim2.new(0.38, 0, -0.08, 0)
Title.Size = UDim2.new(0, 400, 0, 50)
Title.Name = "Title"
Title.Parent = Frame

local Status = Instance.new("TextLabel")
Status.Font = Enum.Font.SourceSansBold
Status.Text = "Idle"
Status.TextColor3 = Color3.new(0.05, 1, 0.05)
Status.TextSize = 50
Status.BackgroundTransparency = 1
Status.Position = UDim2.new(0.1, 0, 0.3, 0)
Status.Size = UDim2.new(0, 635, 0, 50)
Status.Name = "Status"
Status.Parent = Frame

local UserInputService = game:GetService("UserInputService")
local dragging, dragInput, dragStart, startPos

Frame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = Frame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

Frame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        local delta = input.Position - dragStart
        Frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

local function SetStatus(text, color)
    Status.Text = text
    if color then
        Status.TextColor3 = color
    end
end

local function IsEntityAlive(entity)
    if not entity then return false end
    local humanoid = entity:FindFirstChild("Humanoid")
    return humanoid and humanoid.Health > 0
end

local function GetEnemiesInRange(character, range)
    local enemies = game:GetService("Workspace").Enemies:GetChildren()
    local players = game:GetService("Players"):GetPlayers()
    local targets = {}
    local playerPos = character:GetPivot().Position
    for _, enemy in ipairs(enemies) do
        local rootPart = enemy:FindFirstChild("HumanoidRootPart")
        if rootPart and IsEntityAlive(enemy) then
            local distance = (rootPart.Position - playerPos).Magnitude
            if distance <= range then
                table.insert(targets, enemy)
            end
        end
    end
    for _, otherPlayer in ipairs(players) do
        if otherPlayer ~= player and otherPlayer.Character then
            local rootPart = otherPlayer.Character:FindFirstChild("HumanoidRootPart")
            if rootPart and IsEntityAlive(otherPlayer.Character) then
                local distance = (rootPart.Position - playerPos).Magnitude
                if distance <= range then
                    table.insert(targets, otherPlayer.Character)
                end
            end
        end
    end
    return targets
end

function AttackNoCoolDown()
    local character = player.Character
    if not character then return end
    local equippedWeapon
    for _, item in ipairs(character:GetChildren()) do
        if item:IsA("Tool") then
            equippedWeapon = item
            break
        end
    end
    if not equippedWeapon then return end
    local enemiesInRange = GetEnemiesInRange(character, 60)
    if equippedWeapon:FindFirstChild("LeftClickRemote") then
        local attackCount = 1
        for _, enemy in ipairs(enemiesInRange) do
            local rootPart = enemy:FindFirstChild("HumanoidRootPart")
            if rootPart then
                local direction = (rootPart.Position - character:GetPivot().Position).Unit
                equippedWeapon.LeftClickRemote:FireServer(direction, attackCount)
                attackCount = attackCount + 1
            end
        end
    else
        local targets, mainTarget = {}, nil
        for _, enemy in ipairs(enemiesInRange) do
            if not enemy:GetAttribute("IsBoat") then
                local head = enemy:FindFirstChild("Head")
                if head then
                    table.insert(targets, { enemy, head })
                    mainTarget = head
                end
            end
        end
        if mainTarget then
            local storage = game:GetService("ReplicatedStorage")
            local attackEvent = storage:WaitForChild("Modules"):WaitForChild("Net"):WaitForChild("RE/RegisterAttack")
            local hitEvent = storage:WaitForChild("Modules"):WaitForChild("Net"):WaitForChild("RE/RegisterHit")
            pcall(function()
                attackEvent:FireServer(0.1)
                hitEvent:FireServer(mainTarget, targets)
            end)
        end
    end
end

local worldMap = {
    [2753915549] = true,
    [4442272183] = true,
    [7449423635] = true
}
local placeId = game.PlaceId
local World1, World2, World3

if worldMap[placeId] then
    if placeId == 2753915549 then
        World1 = true
    elseif placeId == 4442272183 then
        World2 = true
    elseif placeId == 7449423635 then
        World3 = true
    end
end

function AutoStatMelee()
    return true
end

spawn(function()
    while wait() do
        if AutoStatMelee() then
            local v741 = {
                [1] = "AddPoint",
                [2] = "Melee",
                [3] = 3
            }
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(v741))
        end
    end
end)

spawn(function()
    SetStatus("Joining Team...", Color3.new(1,1,0))
    pcall(function()
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("SetTeam","Pirates")
    end)
    wait(0.5)
    getgenv().AUTOHAKI = true
    spawn(function()
        local canUseHaki = true
        local debounceTime = 2
        while task.wait(0.1) do
            if getgenv().AUTOHAKI then
                if not game.Players.LocalPlayer.Character:FindFirstChild("HasBuso") and canUseHaki then
                    canUseHaki = false
                    local args = {
                        [1] = "Buso"
                    }
                    pcall(function()
                        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
                    end)
                    wait(debounceTime)
                    canUseHaki = true
                end
            end
        end
    end)
    wait(0.5)
    SetStatus("Redeem Code...", Color3.new(0,1,1))
    local code = {
        "WildDares","BossBuild","GetPranked","Sub2OfficialNoobie","Sub2Daigrock",
        "Sub2NoobMaster123","Bluxxy","JCWK","Enyu_is_Pro","Sub2Fer999","kittgaming",
        "TheGreatAce","StrawHatMaine","TantaiGaming","Axiore","SUB2GAMERROBOT_EXP1",
        "MagicBus","StarcodeHEO","Sub2CaptainMaui","FIGHT4FRUIT","EARN_FRUITS"
    }
    function RedeemCode(Value)
        game:GetService("ReplicatedStorage").Remotes.Redeem:InvokeServer(Value)
    end
    local delayBetweenRequests = 0.5
    for i,v in pairs(code) do
        spawn(function()
            RedeemCode(v)
            wait(delayBetweenRequests)
        end)
    end
    wait(3)
    if World1 then
        local MyLevel = game:GetService("Players").LocalPlayer.Data.Level.Value
        if MyLevel >= 1 and MyLevel <= 9 then
            local Mon = "Bandit"
            local LevelQuest = 1
            local NameQuest = "BanditQuest1"
            local NameMon = "Bandit"
            local CFrameQuest = CFrame.new(1059.37195, 15.4495068, 1550.4231)
            local CFrameMon = CFrame.new(1045.962646484375, 27.00250816345215, 1560.8203125)
            while task.wait() do
                MyLevel = game:GetService("Players").LocalPlayer.Data.Level.Value
                if MyLevel >= 10 then
                    SetStatus("Idle", Color3.new(0.05,1,0.05))
                    break
                end
                SetStatus("Farming "..Mon, Color3.new(1,0,0))
                local questCheck = player.PlayerGui:FindFirstChild("Main"):FindFirstChild("Quest")
                if not questCheck.Visible then
                    player.Character:PivotTo(CFrameQuest)
                    wait(1)
                    pcall(function()
                        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("StartQuest",NameQuest,LevelQuest)
                    end)
                    wait(1)
                else
                    local enemies = Workspace.Enemies:GetChildren()
                    for _,enemy in ipairs(enemies) do
                        if enemy.Name == NameMon and IsEntityAlive(enemy) then
                            local root = enemy:FindFirstChild("HumanoidRootPart")
                            if root and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                                player.Character:PivotTo(CFrame.new(root.Position.X, root.Position.Y+3, root.Position.Z))
                                repeat
                                    task.wait(0.1)
                                    AttackNoCoolDown()
                                until not IsEntityAlive(enemy) or MyLevel >= 10
                            end
                        end
                        if MyLevel >= 10 then break end
                    end
                end
            end
        end
    end
end)
